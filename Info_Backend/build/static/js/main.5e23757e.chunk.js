(this.webpackJsonpslushinfofrontend=this.webpackJsonpslushinfofrontend||[]).push([[0],{12:function(e,t,n){},35:function(e,t,n){e.exports=n(66)},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),u=(n(40),n(5)),l=n.n(u),s=n(7),i=n(9),p=n(68),f=n(69),m=(n(12),n(11)),b=n.n(m),d=null,E={},h=function(){E={headers:{Authorization:d}}},v={getAll:function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(),e.next=3,b.a.get("/api/infos",E);case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(),e.next=3,b.a.post("/api/infos",t,E);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),poista:function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(),e.next=3,b.a.delete("".concat("/api/infos","/").concat(t),E);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setToken:function(e){d="bearer ".concat(e)}},g=n(6),O=function(e){return{type:"SAVE",info:e}},j=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),m=u[0],b=u[1],d=Object(a.useState)(""),E=Object(i.a)(d,2),h=E[0],j=E[1],w=Object(a.useState)(""),y=Object(i.a)(w,2),k=y[0],x=y[1],C=Object(a.useState)(!0),S=Object(i.a)(C,2),L=S[0],N=S[1],T=Object(g.b)(),_=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===n||""===m||""===h){e.next=12;break}return a={title:n,category:m,text:h,link:k,pic:L},e.next=5,v.create(a);case 5:return e.sent,e.next=8,v.getAll();case 8:r=e.sent,T(O(r)),e.next=13;break;case 12:console.log("Dont send empty data");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"shadowBackround"},r.a.createElement(p.a,{onSubmit:_},r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"Title:"),r.a.createElement(p.a.Control,{onChange:function(e){return c(e.target.value)},type:"text",placeholder:"Enter the title of info"})),r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"Category:"),r.a.createElement(p.a.Control,{onChange:function(e){return b(e.target.value)},type:"text",placeholder:"Enter the Category ex.Factory"})),r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"Write the info conserning the title"),r.a.createElement(p.a.Control,{onChange:function(e){return j(e.target.value)},as:"textarea",rows:"7"})),r.a.createElement(p.a.Group,null,r.a.createElement(p.a.Label,null,"add a link to a picture (Leave empty not to add link)"),r.a.createElement(p.a.Control,{onChange:function(e){return x(e.target.value)},type:"text",placeholder:"Link here www.slush.org"})),r.a.createElement(f.a,{variant:"primary",type:"submit"},"Submit"),"Show as photo",r.a.createElement("input",{type:"radio",onClick:function(){return N(!1)},name:"gender",value:"male"}),"add as a Link",r.a.createElement("input",{type:"radio",onClick:function(){return N(!0)},name:"gender",value:"male"})))},w=n(33),y=n.n(w),k=function(e){var t=e.title,n=e.category,a=e.text,c=e.id,o=e.word,u=e.link,i=e.pic,p=Object(g.b)(),m=Object(g.c)((function(e){return e.userReducer})),b=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.poista(c);case 2:return e.sent,e.next=5,v.getAll();case 5:t=e.sent,p(O(t));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=o.split(" ");return console.log(d),r.a.createElement("div",null,r.a.createElement("h1",null,t),r.a.createElement("h3",null,n),r.a.createElement("pre",{className:"pre"},r.a.createElement(y.a,{highlightClassName:"YourHighlightClass",searchWords:d,autoEscape:!0,textToHighlight:a})),!1===i&&r.a.createElement("img",{src:u,alt:"kuva"}),!0===i&&r.a.createElement("a",{href:u,target:"_blank",rel:"noopener noreferrer"},u),!0===m.admin&&r.a.createElement(f.a,{variant:"danger",onClick:b},"Delete"))},x=(n(65),n(16)),C=n(67),S=n(32),L=function(e,t){return e.sort((function(e,n){return e.title.toLowerCase().includes(t.toLowerCase())?-1:n.title.toLowerCase().includes(t.toLowerCase())?1:e.text.toLowerCase().includes(t.toLowerCase())?-1:n.text.toLowerCase().includes(t.toLowerCase())?1:0}))},N=function(e){var t=e.setFilter,n=Object(g.b)(),c=Object(g.c)((function(e){return e.infoReducer})),o=Object(a.useState)(""),u=Object(i.a)(o,2),l=u[0],s=u[1];return r.a.createElement("div",{className:"search"},r.a.createElement(p.a.Group,{as:C.a},r.a.createElement(S.a,{sm:"11"},r.a.createElement(p.a.Control,{type:"text",onChange:function(e){s(e.target.value),t(e.target.value);var a=Object(x.a)(c),r=L(a,l);n(O(r))},placeholder:"Search"})),r.a.createElement(p.a.Label,{column:!0,sm:"1"})))},T=function(e){return{type:"SAVEUSER",info:e}},_=function(){return{type:"LOGOUT"}},D={login:function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},G=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),u=Object(i.a)(o,2),m=u[0],b=u[1],d=Object(g.b)(),E=Object(g.b)(),h=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,D.login({username:n,password:m});case 4:return a=e.sent,sessionStorage.setItem("LoggedInfoUser",JSON.stringify(a)),v.setToken(a.token),d(T(a)),c(""),b(""),e.next=12,v.getAll();case 12:r=e.sent,E(O(r)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"loginTable"},r.a.createElement(p.a.Group,{as:C.a},r.a.createElement(p.a.Label,{column:!0,sm:"4"},"Username:"),r.a.createElement(S.a,{sm:"8"},r.a.createElement(p.a.Control,{type:"text",onChange:function(e){var t=e.target;return c(t.value)},placeholder:"username"}))),r.a.createElement(p.a.Group,{as:C.a},r.a.createElement(p.a.Label,{column:!0,sm:"4"},"Password:"),r.a.createElement(S.a,{sm:"8"},r.a.createElement(p.a.Control,{type:"password",onChange:function(e){var t=e.target;return b(t.value)},placeholder:"Password"}))),r.a.createElement(f.a,{className:"primary",onClick:h},"Log in"))};var R=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],o=Object(g.b)(),u=Object(g.b)(),p=Object(g.c)((function(e){return e.infoReducer})),m=Object(g.c)((function(e){return e.userReducer}));Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=sessionStorage.getItem("LoggedInfoUser"))){e.next=9;break}return n=JSON.parse(t),o(T(n)),v.setToken(n.token),e.next=7,v.getAll();case 7:a=e.sent,u(O(a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=p.map((function(e){return r.a.createElement("div",{key:e.id,className:"shadowBackround2"},r.a.createElement(k,{word:n,title:e.title,category:e.category,text:e.text,id:e.id,link:e.link,pic:e.pic}))}));return null===m?r.a.createElement("div",null,r.a.createElement("h1",{className:"keskita2"},"Welcome to Codester"),r.a.createElement(G,null)):r.a.createElement("div",null,r.a.createElement(f.a,{className:"logOut",onClick:function(){o(_()),sessionStorage.clear()}},"Log out username: ",m.username),!0===m.admin&&r.a.createElement(j,null),r.a.createElement(N,{setFilter:c}),b)},A=n(10),P=n(34);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(P.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVEUSER":var n=I({},t.info);return n;case"GETUSER":return e;case"LOGOUT":return null;default:return e}},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE":var n=Object(x.a)(t.info);return n;case"GET":default:return e}},X=Object(A.b)({userReducer:V,infoReducer:J}),B=Object(A.c)(X,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(r.a.createElement(g.a,{store:B},r.a.createElement(R,null)),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.5e23757e.chunk.js.map